(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[53],{f19e:function(e,t,a){"use strict";a.r(t);a("b0c0");var i=function(){var e=this,t=e._self._c;return t("q-page",{class:{"flex flex-center":!e.reviews.length}},[t("q-header",{class:e.getHeaderColorBrand},[t("q-toolbar",[t("q-btn",{directives:[{name:"go-back",rawName:"v-go-back.single",modifiers:{single:!0}}],attrs:{flat:"",round:"",dense:"",icon:"arrow_back"}}),t("q-toolbar-title",[e._v("\n       Moderasi Ulasan\n      ")])],1),t("q-tabs",{staticClass:"bg-grey-1 text-grey-8",attrs:{"active-color":"primary"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[t("q-tab",{attrs:{name:"Unapproved",label:"Unapproved"}}),t("q-tab",{attrs:{name:"Approved",label:"Approved"}})],1)],1),t("div",{staticClass:"q-py-md"},[t("q-list",{attrs:{separator:""}},e._l(e.reviews,(function(a,i){return t("q-item",{key:i},[t("q-item-section",{staticClass:"q-mt-md",attrs:{side:"",top:""}},[e._v(e._s(i+1))]),t("q-item-section",[t("q-list",{attrs:{dense:""}},[t("q-item",[t("q-item-section",{attrs:{avatar:""}},[e._v("Rating")]),t("q-item-section",[t("q-rating",{attrs:{readonly:"",value:a.rating,color:"accent",icon:"star_border","icon-selected":"star","icon-half":"star_half",size:"18px"}})],1)],1),t("q-item",[t("q-item-section",{attrs:{avatar:""}},[e._v("User")]),t("q-item-section",[e._v(e._s(a.name))])],1),t("q-item",[t("q-item-section",{attrs:{avatar:""}},[e._v("Produk")]),t("q-item-section",[e._v(e._s(a.product.title))])],1),t("q-item",[t("q-item-section",{attrs:{avatar:"",top:""}},[e._v("Ulasan")]),t("q-item-section",{attrs:{top:""}},[t("q-item-label",{attrs:{caption:""}},[e._v(e._s(a.comment))])],1)],1)],1)],1),t("q-item-section",{staticClass:"q-gutter-sm",attrs:{avatar:""}},[t("q-btn",{attrs:{unelevated:"",size:"sm",round:"",icon:"delete",color:"red-7"},on:{click:function(t){return e.handleDeleteReview(a.id)}}},[t("q-tooltip",[e._v("Hapus")])],1),a.is_approved?e._e():t("q-btn",{attrs:{unelevated:"",size:"sm",round:"",icon:"check",color:"blue-6"},on:{click:function(t){return e.handleApproveReview(a)}}},[t("q-tooltip",[e._v("Approved")])],1)],1)],1)})),1),e.reviews.length?e._e():t("div",[e._v("\n      Tidak ada ulasan\n    ")])],1)],1)},n=[],s=a("448a"),o=a.n(s),r=(a("d3b7"),a("e6cf"),a("a79d"),a("99af"),a("758b")),c={name:"ReviewIndex",data:function(){return{reviews:[],loading:!1,tab:"Unapproved",take:8}},mounted:function(){this.getReviews()},watch:{tab:function(){this.reviews=[],this.getReviews()}},methods:{getReviews:function(){var e=this;this.$q.loading.show(),Object(r["a"])().get("reviews/".concat(this.tab,"?take=").concat(this.take,"&skip=").concat(this.reviews.length)).then((function(t){200==t.status&&(e.reviews=e.reviews.length?[].concat(o()(e.reviews),o()(t.data.results)):t.data.results)})).finally((function(){e.$q.loading.hide()}))},handleDeleteReview:function(e){var t=this;this.$q.dialog({title:"Konfirmasi Penghapusan",message:"Yakin akan menghapus ulasan ini?",cancel:!0}).onOk((function(){t.deleteReview(e)}))},handleApproveReview:function(e){var t=this;this.$q.dialog({title:"Konfirmasi",message:"Ingin menyetujui ulasan ini?",cancel:!0}).onOk((function(){t.approveReview(e)}))},deleteReview:function(e){var t=this;this.$q.loading.show(),Object(r["a"])().delete("reviews/"+e).finally((function(){t.reviews=[],t.getReviews()}))},approveReview:function(e){var t=this;this.$q.loading.show(),Object(r["a"])().post("reviews",{id:e.id,product_id:e.product_id}).finally((function(){t.reviews=[],t.getReviews()}))}}},l=c,v=a("2877"),d=a("9989"),u=a("e359"),p=a("65c6"),m=a("9c40"),b=a("6ac5"),q=a("429b"),w=a("7460"),h=a("1c1c"),f=a("66e5"),g=a("4074"),_=a("daf4"),k=a("0170"),R=a("05c0"),Q=a("2eeb"),y=a("eebe"),x=a.n(y),T=Object(v["a"])(l,i,n,!1,null,null,null);t["default"]=T.exports;x()(T,"components",{QPage:d["a"],QHeader:u["a"],QToolbar:p["a"],QBtn:m["a"],QToolbarTitle:b["a"],QTabs:q["a"],QTab:w["a"],QList:h["a"],QItem:f["a"],QItemSection:g["a"],QRating:_["a"],QItemLabel:k["a"],QTooltip:R["a"]}),x()(T,"directives",{GoBack:Q["a"]})}}]);