(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{"047a":function(t,e,a){},"385b":function(t,e,a){"use strict";a.r(e);a("99af"),a("a4d3"),a("e01a"),a("b0c0");var i=function(){var t=this,e=t._self._c;return e("q-page",{staticClass:"relative",class:{"flex flex-center":!t.ready}},[t.ready&&t.product?[e("div",{staticClass:"q-pa-md header-top"},[e("div",{staticClass:"flex justify-between"},[e("q-btn",{staticStyle:{cursor:"pointer",opacity:".9"},attrs:{"aria-label":"Kembali",round:"",flat:"",icon:"eva-arrow-back","icon-size":"27px"},on:{click:t.backButton}}),e("shopping-cart")],1)]),e("div",{staticClass:"col relative overflow-x-hidden"},[e("q-carousel",{ref:"carousel",staticClass:"img-carousel",staticStyle:{"max-height":"574px"},style:t.cStyle,attrs:{animated:"",swipeable:"",infinite:"",height:t.height},scopedSlots:t._u([{key:"control",fn:function(){return[e("q-carousel-control",{staticClass:"row items-center justify-between",attrs:{position:"bottom",offset:[18,40]}},[t.product?e("div",{staticClass:"asset-badge q-mr-sm"},[t._v(t._s(t.slide)+"/"+t._s(t.product.assets.length))]):t._e(),e("q-btn",{staticClass:"bordered",attrs:{"aria-label":"Fullscreen",dense:"",color:"white","text-color":"grey-8",icon:"ion-expand",unelevated:"",size:"13px",padding:"8px",round:""},on:{click:function(e){t.fullscreen=!t.fullscreen}}})],1)]},proxy:!0}],null,!1,1639009669),model:{value:t.slide,callback:function(e){t.slide=e},expression:"slide"}},t._l(t.product.assets,(function(t,a){return e("q-carousel-slide",{key:a,attrs:{name:a+1,"img-src":t.src,ratio:"1"}})})),1),e("q-card",{staticClass:"product-detail relative box-shadow"},[e("q-card-section",{staticClass:"q-pt-xs q-pb-lg"},[t.product?e("h1",{staticClass:"text-h6 text-weight-semibold"},[t._v(t._s(t.product.title))]):t._e(),e("div",{staticClass:"items-center justify-between",class:{row:t.$q.screen.width>800}},[e("div",[e("div",{staticClass:"flex items-center"},[e("div",{staticClass:"flex items-center text-secondary"},[e("span",{staticClass:"text-md"},[t._v("Rp")]),e("span",{staticClass:"text-lg text-weight-medium"},[t._v("\n                    "+t._s(t.$money(parseInt(t.getCurrentPrice*this.quantity)))+"\n                  ")])]),t.renderDiscount?e("div",{staticClass:"flex items-center text-strike text-xs q-ml-xs"},[e("span",{staticClass:"text-sm"},[t._v("Rp")]),e("span",{staticClass:"text-md"},[t._v(t._s(t.$money(t.getDefaultPrice*this.quantity))+" ")])]):t._e(),t.renderMaxPrice?[e("div",{staticClass:"q-px-sm text-md text-weight-bold"},[t._v("-")]),e("div",{staticClass:"flex items-center text-secondary"},[e("span",{staticClass:"text-md"},[t._v("Rp")]),e("span",{staticClass:"text-lg text-weight-medium"},[t._v(t._s(t.$money(t.getMaxPrice))+" ")])])]:t._e()],2),e("div",{staticClass:"row items-center q-gutter-x-sm"},[e("q-rating",{attrs:{"data-nosnippet":"true",readonly:"",color:"accent",icon:"ion-star-outline","icon-selected":"ion-star","icon-half":"ion-star-half",size:"1.3rem"},model:{value:t.productRating,callback:function(e){t.productRating=e},expression:"productRating"}}),e("div",{staticClass:"text-weight-medium text-sm"},[t._v("\n                  "+t._s(t.product.reviews_count>0?t.product.reviews_count+"ulasan":""))])],1)]),e("div",{staticClass:"row gutter-x text-h6 items-center"},[e("q-btn",{staticStyle:{cursor:"pointer"},attrs:{"aria-label":"decrement",flat:"",round:"",icon:"eva-minus-circle-outline",size:"24"},on:{click:t.decrementQty}}),e("div",[t._v(t._s(t.quantity))]),e("q-btn",{staticStyle:{cursor:"pointer"},attrs:{"aria-label":"increment",flat:"",round:"",icon:"eva-plus-circle-outline",size:"24"},on:{click:t.incrementQty}})],1)])])],1),t.product&&t.product_varian_item_render.length?e("div",{staticClass:"box-shadow bg-white q-px-md q-mt-md q-py-lg"},[e("div",{staticClass:"q-pb-sm"},[e("div",{staticClass:"flex justify-between items-center text-md text-weight-semibold"},[e("div",{},[t._v("Pilih Varian")])]),t.product.varian_attributes.length?e("div",{staticClass:"q-mt-sm"},[e("div",{staticClass:"q-mb-xs"},[t._v(t._s(t.product.varian_attributes[0].label))]),e("div",{staticClass:"q-gutter-sm"},t._l(t.product.varian_attributes,(function(a){return e("q-btn",{key:a.id,staticClass:"product-varian--btn",attrs:{"aria-label":"Product Attribute",outline:"",label:a.value,color:t.product_attribute_selected&&t.product_attribute_selected.id==a.id?"accent":"grey-9"},on:{click:function(e){return t.selectVarianAttribute(a)}}},[t.product_attribute_selected&&t.product_attribute_selected.id==a.id?e("badge-tick"):t._e()],1)})),1)]):t._e(),e("div",{staticClass:"q-mt-sm"},[e("div",{staticClass:"q-mb-xs"},[t._v(t._s(t.product_varian_item_render[0].label))]),e("div",{staticClass:"q-gutter-sm"},t._l(t.product_varian_item_render,(function(a){return e("q-btn",{key:a.id,staticClass:"product-varian--btn",attrs:{"aria-label":"Product Varian",outline:"",label:"".concat(a.value," ").concat(a.stock>0?"":"Habis"),color:t.product_varian_selected&&t.product_varian_selected.id==a.id?"accent":"grey-9",disable:a.stock<1},on:{click:function(e){return t.selectVarianItem(a)}}},[t.product_varian_selected&&t.product_varian_selected.id==a.id?e("badge-tick"):t._e()],1)})),1)])])]):t._e(),e("q-card",{staticClass:"box-shadow q-mt-md bg-white q-pb-xl"},[e("q-tabs",{attrs:{align:"left","indicator-color":"accent"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e("q-tab",{attrs:{name:"Description",label:"Deskripsi Produk"}}),e("q-tab",{attrs:{name:"Review",label:"Ulasan Produk"}})],1),e("q-separator"),e("q-tab-panels",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e("q-tab-panel",{attrs:{name:"Description"}},[e("div",{staticClass:"q-mt-md",staticStyle:{"min-height":"180px"},attrs:{id:"description"}},[e("div",{domProps:{innerHTML:t._s(t.product.description)}})])]),e("q-tab-panel",{attrs:{name:"Review"}},[e("div",{staticClass:"q-mt-lg",attrs:{id:"ulasan"}},[e("div",{staticClass:"flex column justify-center items-center"},[t.productRating>0?e("div",{staticClass:"text-center"},[e("div",{staticClass:"text-3xl text-weight-bold"},[t._v(t._s(t.product.rating))]),e("q-rating",{attrs:{"data-nosnippet":"true",readonly:"",color:"accent",icon:"ion-star-outline","icon-selected":"ion-star","icon-half":"ion-star-half",size:"30px"},model:{value:t.productRating,callback:function(e){t.productRating=e},expression:"productRating"}})],1):t._e(),e("div",{staticClass:"text-weight-medium text-md q-my-sm"},[t._v("\n                  "+t._s(t.product.reviews_count>0?"Total "+t.product.reviews_count+" ulasan":"Belum ada ulasan")+"\n                ")]),e("q-btn",{staticClass:"q-my-xs",attrs:{outline:"",color:"accent",label:"Berikan ulasan"},on:{click:t.handleReviewModal}})],1),e("div",{staticClass:"q-pt-xl"},[e("review-block",{attrs:{reviews:t.AllProductReviews}})],1),e("div",{staticClass:"q-my-md row justify-center"},[t.productReviews.length<t.product.reviews_count?e("q-btn",{attrs:{outline:"","no-caps":"",color:"primary",loading:t.loadMoreLoading,label:"loadmore..."},on:{click:t.loadReview}}):t._e()],1)])])],1)],1)],1),e("q-footer",{staticClass:"q-gutter-x-sm flex q-pa-md bg-white"},[e("q-btn",{staticClass:"col",attrs:{unelevated:"",rounded:"",outline:"",icon:"eva-message-circle-outline",label:"Chat",color:"primary"},on:{click:function(e){t.chatModal=!0}}}),e("q-btn",{staticClass:"col",attrs:{unelevated:"",rounded:"",icon:"eva-shopping-cart-outline",label:"Beli",color:"primary"},on:{click:t.addNewItem}})],1)]:t._e(),e("q-inner-loading",{attrs:{showing:!t.ready}}),e("q-dialog",{attrs:{persistent:""},model:{value:t.reviewModal,callback:function(e){t.reviewModal=e},expression:"reviewModal"}},[e("div",{staticClass:"q-card",staticStyle:{width:"100%","max-width":"360px"}},[e("q-card-section",[e("form",{on:{submit:function(e){return e.preventDefault(),t.submitReview.apply(null,arguments)}}},[e("div",[e("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Berikan Ulasan Anda")]),e("q-rating",{attrs:{"data-nosnippet":"true",color:"accent",icon:"ion-star-outline","icon-selected":"ion-star","icon-half":"ion-star-half",size:"sm"},model:{value:t.form.rating,callback:function(e){t.$set(t.form,"rating",e)},expression:"form.rating"}}),e("div",{staticClass:"q-my-md q-gutter-y-xs"},[e("q-input",{attrs:{dense:"",label:"Nama Anda",rules:[function(t){return t&&""!=t||"Wajib disisi"}]},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),e("q-input",{attrs:{dense:"",label:"Ulasan Anda",type:"textarea",rows:"3",rules:[function(t){return t&&""!=t||"Wajib disisi"}]},model:{value:t.form.comment,callback:function(e){t.$set(t.form,"comment",e)},expression:"form.comment"}})],1),e("div",{staticClass:"q-gutter-y-sm q-my-md items-center text-grey"},[e("div",{staticClass:"text-grey text-xs"},[t._v("Jawab tantangan berikut, hanya untuk memastikan anda bukan robot")]),e("div",{staticClass:"row q-gutter-x-sm items-center"},[e("div",{staticClass:"text-weight-bold bg-dark text-white q-px-sm q-py-xs rounded"},[t._v(t._s(t.number2)+" + "+t._s(t.number1)+"\n                ")]),e("div",{staticClass:"text-weight-bold"},[t._v(" = ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.jawaban,expression:"jawaban"}],ref:"jawaban",staticClass:"rounded text-grey-9",staticStyle:{width:"60px",padding:"3px 6px",border:"1px solid grey"},attrs:{type:"text"},domProps:{value:t.jawaban},on:{input:function(e){e.target.composing||(t.jawaban=e.target.value)}}})])]),e("div",{staticClass:"row justify-end q-gutter-x-sm"},[e("q-btn",{attrs:{unelevated:"",type:"button",label:"Batal",color:"primary",outline:""},on:{click:function(e){return e.preventDefault(),t.closeReviewModal.apply(null,arguments)}}}),e("q-btn",{attrs:{unelevated:"",disable:t.chalengeTesting,type:"submit",loading:t.loading,label:"Kirim Ulasan",color:"primary"}})],1)],1)])])],1)]),e("q-dialog",{model:{value:t.chatModal,callback:function(e){t.chatModal=e},expression:"chatModal"}},[e("q-card",{staticClass:"text-grey-9",staticStyle:{"max-width":"450px",width:"100%"}},[e("div",{staticClass:"text-weight-bold q-py-sm q-px-md bg-primary text-white"},[t._v("Kirim pesan / tanya ke penjual")]),e("q-card-section",{staticClass:"transition-height"},[this.product?e("div",{staticClass:"q-mb-sm text-subtitle2"},[t._v("# "+t._s(t.product.title))]):t._e(),e("q-input",{attrs:{outlined:"",autogrow:"",autofocus:"",placeholder:"contoh: Halo Admin, Apakah ini masih ada?"},model:{value:t.chatText,callback:function(e){t.chatText=e},expression:"chatText"}}),e("div",{staticClass:"q-pt-sm"},t._l(t.defaultChat,(function(a){return e("div",{key:a,staticClass:"q-pa-xs cursor-pointer",on:{click:function(e){return t.changeChatText(a)}}},[e("span",[t._v(t._s(a))])])})),0)],1),e("q-card-actions",{staticClass:"justify-end q-pa-md"},[e("q-btn",{attrs:{outline:"",color:"primary",label:"Batal"},on:{click:t.closeChatModal}}),e("q-btn",{attrs:{disable:!t.chatText,color:"primary",label:"Kirim"},on:{click:t.submitChat}})],1)],1)],1),e("q-dialog",{attrs:{"transition-show":"slide-up","transition-hide":"slide-up"},model:{value:t.cartModal,callback:function(e){t.cartModal=e},expression:"cartModal"}},[t.product?e("q-card",{staticClass:"card-lg bg-white",attrs:{flat:""}},[e("q-linear-progress",{attrs:{size:"10px",value:100}}),e("q-card-section",[e("q-list",[e("q-item",{staticClass:"q-px-xs"},[e("q-item-section",{attrs:{avatar:"",top:""}},[e("q-img",{staticClass:"rounded-borders",attrs:{src:t.product.assets[0].src,width:"80px",ratio:"1"}})],1),e("q-item-section",{attrs:{top:""}},[e("div",{staticClass:"text-md text-weight-meduim q-mb-sm"},[e("span",{staticClass:"text-weight-medium"},[t._v(t._s(t.product.title))]),t._v(" berhasil ditambahkan di keranjang belanja.")]),e("q-item-label",{attrs:{caption:""}},[t._v("Anda bisa lanjut kehalaman checkout atau melanjutkan berbelanja")])],1)],1)],1),e("div",{staticClass:"flex justify-end q-gutter-x-sm q-pt-sm"},[e("q-btn",{attrs:{outline:"","no-caps":"",label:"Berbelanja Lagi",color:"primary"},on:{click:function(e){t.cartModal=!1}}}),e("q-btn",{attrs:{unelevated:"","no-caps":"",to:{name:"Cart"},label:"Lanjut Checkout",color:"primary"}})],1)],1)],1):t._e()],1),e("q-dialog",{model:{value:t.alreadyItemModal,callback:function(e){t.alreadyItemModal=e},expression:"alreadyItemModal"}},[e("q-card",{staticClass:"card-lg"},[e("q-linear-progress",{attrs:{size:"10px",value:100}}),t.product?e("q-card-section",[e("div",{staticClass:"q-mb-sm text-weight-medium text-lg"},[t._v("Konfirmasi")]),e("div",[e("span",{staticClass:"text-weight-medium text-md text-capitalize"},[t._v(t._s(t.product.title)+" ")]),t._v(" "+t._s(t.getVarianTextNote())),e("br"),t._v("Sudah ada dikeranjang, Apakah ingin tetap menambahkan?, Jika YA, keranjang akan diperbarui kuantitasnya\n        ")])]):t._e(),e("q-card-actions",{staticClass:"justify-end q-gutter-x-sm q-pa-md"},[e("q-btn",{attrs:{outline:"","no-caps":"",label:"Batal",color:"primary"},on:{click:function(e){t.alreadyItemModal=!1}}}),e("q-btn",{attrs:{unelevated:"","no-caps":"",label:"Tambahkan",color:"primary"},on:{click:t.updateNewItem}})],1)],1)],1),e("q-dialog",{attrs:{position:"bottom","transition-show":"slide-up","transition-hide":"slide-down"},model:{value:t.formVariantModal,callback:function(e){t.formVariantModal=e},expression:"formVariantModal"}},[t.product&&t.product_varian_item_render.length?e("q-card",{staticClass:"max-width",attrs:{flat:""}},[e("q-card-section",[e("div",{staticClass:"q-pb-sm",staticStyle:{"min-height":"200px"}},[e("div",{staticClass:"text-lg"},[t._v("Pilih Varian")]),t.product.varian_attributes.length?e("div",{staticClass:"q-mtsm"},[e("div",{staticClass:"q-mb-xs"},[t._v(t._s(t.product.varian_attributes[0].label))]),e("div",{staticClass:"q-gutter-sm"},t._l(t.product.varian_attributes,(function(a){return e("q-btn",{key:a.id,staticClass:"product-varian--btn",attrs:{"aria-label":"Product Attribute",outline:"",label:a.value,color:t.product_attribute_selected&&t.product_attribute_selected.id==a.id?"accent":"grey-9"},on:{click:function(e){return t.selectVarianAttribute(a)}}},[t.product_attribute_selected&&t.product_attribute_selected.id==a.id?e("badge-tick"):t._e()],1)})),1)]):t._e(),e("div",{staticClass:"q-mt-sm"},[e("div",{staticClass:"q-mb-xs"},[t._v(t._s(t.product_varian_item_render[0].label))]),e("div",{staticClass:"q-gutter-sm"},t._l(t.product_varian_item_render,(function(a){return e("q-btn",{key:a.id,staticClass:"product-varian--btn",attrs:{"aria-label":"Product Varian",outline:"",color:t.product_varian_selected&&t.product_varian_selected.id==a.id?"accent":"grey-9",label:"".concat(a.value," ").concat(a.stock>0?"":"Habis"),disable:a.stock<1},on:{click:function(e){return t.selectVarianItem(a)}}},[t._v(t._s(a)+"\n                "),t.product_varian_selected&&t.product_varian_selected.id==a.id?e("badge-tick"):t._e()],1)})),1)])])]),e("q-card-section",[e("q-btn",{staticClass:"full-width",attrs:{unelevated:"",name:"eva-shopping-cart-outline",label:"Beli Sekarang",color:"primary"},on:{click:t.addNewItem}})],1)],1):t._e()],1),e("q-dialog",{attrs:{persistent:"",maximized:""},model:{value:t.fullscreen,callback:function(e){t.fullscreen=e},expression:"fullscreen"}},[t.product?e("div",{staticClass:"max-width relative",staticStyle:{background:"rgb(120 120 120 / 96%)"}},[e("div",{staticClass:"text-center q-py-md absolute",staticStyle:{top:"5px",width:"100%","z-index":"99"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.helpTextScreen,expression:"helpTextScreen"}],staticClass:"flex justify-center"},[e("div",{staticClass:"q-px-md",staticStyle:{background:"rgb(240 240 240 / 90%)"}},[t._v("Scroll mouse atau cubit layar untuk zoom")])])]),e("Transition",{staticClass:"preview-image relative bg-grey-5 text-center",attrs:{name:"slide",tag:"div"}},[e("PinchScrollZoom",{ref:"zoomer",attrs:{width:t.zoomerWidth,height:t.zoomerHeight,scale:t.scale}},[e("img",{ref:"zoomerimage",style:t.zoomImageStyle,attrs:{src:t.currentImage}})])],1),e("div",{staticClass:"absolute row items-center q-py-md q-px-lg justify-between fuul-width",staticStyle:{bottom:"0",left:"0",right:"0"}},[e("div",{staticClass:"asset-badge"},[t._v(t._s(t.slide)+"/"+t._s(t.product.assets.length))]),e("div",{staticClass:"row items-center"},[t.product.assets.length>1?[e("q-btn",{staticClass:"q-mr-sm bordered",attrs:{disable:1==t.slide,dense:"",size:"16px",color:"white","text-color":"dark",round:"",unelevated:"",icon:"eva-arrow-ios-back"},on:{click:function(e){t.slide--}}}),e("q-btn",{staticClass:"q-mr-sm bordered",attrs:{disable:t.product.assets.length==t.slide,dense:"",size:"16px",color:"white","text-color":"dark",round:"",unelevated:"",icon:"eva-arrow-ios-forward"},on:{click:function(e){t.slide++}}})]:t._e(),e("q-btn",{staticClass:"q-mr-sm bordered",attrs:{dense:"",size:"16px",color:"white","text-color":"dark",round:"",unelevated:"",icon:"ion-refresh"},on:{click:t.resetZoom}}),e("q-btn",{staticClass:"bordered",attrs:{dense:"",size:"16px",color:"white","text-color":"dark",round:"",unelevated:"",icon:"eva-close"},on:{click:function(e){t.fullscreen=!t.fullscreen}}})],2)])],1):t._e()])],2)},s=[],r=a("ded3"),n=a.n(r),o=a("448a"),c=a.n(o),l=(a("e260"),a("d3b7"),a("e6cf"),a("3ca3"),a("ddb0"),a("4de4"),a("7db0"),a("ac1f"),a("5319"),a("2ca0"),a("2f62")),d=a("c6c8"),u=function(){var t=this,e=t._self._c;return e("div",{staticClass:"product-variation__tick"},[e("svg",{staticClass:"svg-icon icon-tick-bold",attrs:{"enable-background":"new 0 0 12 12",viewBox:"0 0 12 12",x:"0",y:"0"}},[e("g",[e("path",{attrs:{d:"m5.2 10.9c-.2 0-.5-.1-.7-.2l-4.2-3.7c-.4-.4-.5-1-.1-1.4s1-.5 1.4-.1l3.4 3 5.1-7c .3-.4 1-.5 1.4-.2s.5 1 .2 1.4l-5.7 7.9c-.2.2-.4.4-.7.4 0-.1 0-.1-.1-.1z"}})])])])},h=[],p={props:{color:{type:String,default:"accent"}},computed:{classColor:function(){return"".concat("text-"+this.color)}}},m=p,v=(a("54c9"),a("2877")),b=a("b498"),g=a("eebe"),_=a.n(g),f=Object(v["a"])(m,u,h,!1,null,"0cc96068",null),x=f.exports;_()(f,"components",{QColor:b["a"]});var w=a("5c4d"),q={name:"ProductShow",components:{ShoppingCart:d["a"],BadgeTick:x,PinchScrollZoom:w["a"],"review-block":function(){return Promise.all([a.e(0),a.e(42)]).then(a.bind(null,"3921"))}},data:function(){return{scale:1,tab:"Description",defaultChat:["Apakah ini masih ada?","Apakah bisa grosir?"],chatText:"",chatModal:!1,reviewModal:!1,timeInterval:null,number1:0,number2:0,jawaban:"",loading:!1,slide:1,quantity:1,discount:0,fullscreen:!1,helpTextScreen:!0,shop:this.$store.state.shop,ready:!1,loadMoreLoading:!1,form:{product_id:null,name:"",comment:"",rating:0},cartModal:!1,alreadyItemModal:!1,formVariantModal:!1,product:null,productReviews:[],imagePreviewIndex:0,unapproved_review:JSON.parse(localStorage.getItem("unapproved_review"))||null,has_varian:!1,product_attribute_selected:null,product_varian_selected:null}},watch:{tab:function(t,e){t!=e&&"Review"==t&&!this.productReviews.length&&this.product.reviews_count>0&&this.getReview()},fullscreen:function(t){var e=this;1==t&&(localStorage.getItem("helpTextScreen")?this.helpTextScreen=!1:(this.helpTextScreen=!0,setTimeout((function(){e.helpTextScreen=!1,localStorage.setItem("helpTextScreen",1)}),5e3)))}},computed:{product_varian_item_render:function(){var t=this;return this.product_attribute_selected?this.product.varian_items.filter((function(e){return e.varian_id==t.product_attribute_selected.id})):this.product.varian_items},zoomImageStyle:function(){return"width:100%;height:100%;object-fit:contain;padding:4%;max-width:".concat(this.zoomerWidth,";max-height:").concat(this.zoomerHeight)},currentImage:function(){return this.product.assets[this.slide-1].src},zoomerHeight:function(){return window.innerHeight},page_width:function(){return this.$store.state.page_width},zoomerWidth:function(){return this.page_width>768?768:this.page_width},renderMaxPrice:function(){return!!(this.has_varian&&!this.product_varian_selected&&parseInt(this.getCurrentPrice)<parseInt(this.getMaxPrice))},renderDiscount:function(){return!(!this.product.pricing.is_discount||this.renderMaxPrice)},AllProductReviews:function(){return this.unapproved_review?[this.unapproved_review].concat(c()(this.productReviews)):this.productReviews},session_id:function(){return this.$store.state.session_id},chalengeTesting:function(){return this.number1+this.number2!=this.jawaban},productRating:function(){return parseFloat(this.product.rating)},carts:function(){return this.$store.state.cart.carts},cStyle:function(){return!this.fullscreen&&this.$q.screen.width<560&&this.$q.screen.width>200?"height:"+this.$q.screen.width+"px":""},height:function(){return this.$q.screen.width+"px"},productStock:function(){return this.has_varian&&this.product_varian_selected?this.product_varian_selected.stock:this.product.stock},currentStock:function(){var t=this,e=this.carts.find((function(e){return e.sku==t.currentProductSku}));return this.has_varian&&this.product_varian_selected?void 0!=e?this.product_varian_selected.stock-e.quantity:this.product_varian_selected.stock:void 0!=e?this.productStock-e.quantity:this.productStock},currentProductSku:function(){return this.has_varian&&this.product_varian_selected?this.product_varian_selected.sku:this.product.sku?this.product.sku:this.product.id},getDiscountAmount:function(){return this.product.pricing.is_discount?"PERCENT"==this.product.pricing.discount_type?parseInt(this.getDefaultPrice)*parseInt(this.product.pricing.discount_amount)/100:parseInt(this.product.pricing.discount_amount):0},getMaxPrice:function(){if(this.has_varian){var t=parseInt(this.product.pricing.max_price);this.product_attribute_selected&&(t=parseInt(this.product_varian_item_render[this.product_varian_item_render.length-1].price));var e=this.getcurrentDiscount(t);return t-e}return 0},getDefaultPrice:function(){return this.product_varian_selected?parseInt(this.product_varian_selected.price):this.product_attribute_selected?parseInt(this.product_varian_item_render[0].price):parseInt(this.product.pricing.default_price)},getCurrentPrice:function(){return this.getDefaultPrice-this.getDiscountAmount},getCurrentWeight:function(){return this.product_varian_selected?parseInt(this.product_varian_selected.weight):parseInt(this.product.weight)}},methods:n()(n()({},Object(l["b"])("product",["productDetail","loadProductReview","addProductReview"])),{},{resetZoom:function(){this.$refs.zoomer.setData({scale:1,originX:0,originY:0,translateX:0,translateY:0})},getcurrentDiscount:function(t){return this.product.pricing.is_discount?"PERCENT"==this.product.pricing.discount_type?parseInt(t)*parseInt(this.product.pricing.discount_amount)/100:parseInt(this.product.pricing.discount_amount):0},selectVarianAttribute:function(t){this.product_attribute_selected=t,this.product_varian_selected=null,this.quantity=1},selectVarianItem:function(t){this.product_varian_selected=t,this.quantity=1},backButton:function(){window.history.length>2?this.$router.back():this.$router.push({name:"ProductIndex"})},addToCart:function(){this.formVariantModal=!1;var t={session_id:this.session_id,product_id:this.product.id,product_stock:this.currentStock,sku:this.currentProductSku,name:this.product.title,price:this.getCurrentPrice,quantity:this.quantity,note:this.getVarianTextNote(),product_url:this.getRoutePath(),image_url:this.product.assets[0].src,weight:this.getCurrentWeight};this.$store.dispatch("cart/addToCart",t),this.quantity=1},showNotifyHasSelectVarian:function(){this.formVariantModal?this.$q.notify({type:"info",message:"Silahkan pilih produk varian terlebih dahulu"}):this.formVariantModal=!0},addNewItem:function(){var t=this;if(!this.has_varian||this.product_varian_selected)if(this.currentStock<=0){var e=this.has_varian?"varian":"produk";this.$q.dialog({title:"Stok habis",message:"Maaf, stok untuk ".concat(e," ini habis, silahkan pilih ").concat(e," lainnya.")})}else this.checkCart().then((function(e){t.addToCart(),t.cartModal=!0})).catch((function(e){t.alreadyItemModal=!0}));else this.showNotifyHasSelectVarian()},updateNewItem:function(){this.alreadyItemModal=!1,this.addToCart(),this.cartModal=!0},checkCart:function(){var t=this;return new Promise((function(e,a){var i;i=t.carts.find((function(e){return e.sku==t.currentProductSku})),void 0!=i?a():e()}))},getVarianTextNote:function(){var t="";return this.product_varian_selected&&(this.product_attribute_selected&&(t+="".concat(this.product_attribute_selected.label," ").concat(this.product_attribute_selected.value,", ")),t+="".concat(this.product_varian_selected.label," ").concat(this.product_varian_selected.value)),t},getRoutePath:function(){var t=this.$router.resolve({name:"ProductShow",params:{slug:this.product.slug}});return location.origin+t.href},checkVarianIsReady:function(){return!(this.has_varian&&!this.product_varian_selected)},incrementQty:function(){this.checkVarianIsReady()?this.quantity<this.currentStock?this.quantity+=1:this.$q.dialog({title:"Warning!",message:"Stok tidak cukup, stok tersisa "+this.currentStock+" item."}):this.$q.dialog({title:"Pilih Varian!",message:"Silahkan pilih varian untuk melanjutkan."})},decrementQty:function(){this.checkVarianIsReady?this.quantity>1&&(this.quantity-=1):this.$q.dialog({title:"Pilih Varian!",message:"Silahkan pilih varian untuk melanjutkan."})},getTeaser:function(t){if(t){var e=t.replace(/(<([^>]+)>)/gi,"");return e.substr(0,80)}return""},closeReviewModal:function(){clearInterval(this.timeInterval),this.reviewModal=!1},handleReviewModal:function(){var t=this;this.getRandomNumber(),this.timeInterval=setInterval((function(){document.activeElement!==t.$refs.jawaban&&t.getRandomNumber()}),1e4),this.reviewModal=!0},submitReview:function(){var t=this;if(this.number1+this.number2!=this.jawaban)return this.$q.notify({type:"negative",message:"Jawaban Salah, silahkan jawab dengan benar."}),void this.getRandomNumber();this.jawaban="",this.getRandomNumber(),this.form.product_id=this.product.id,this.form.product_slug=this.product.slug,this.form.name&&this.form.comment&&this.form.rating?(this.loading=!0,this.reviewModal=!1,this.addProductReview(this.form).then((function(e){var a=e.data.results;200==e.status&&t.$q.notify({type:"positive",message:e.data.message}),a.is_approved||(localStorage.setItem("unapproved_review",JSON.stringify(a)),t.unapproved_review=a,setTimeout((function(){localStorage.removeItem("unapproved_review")}),3e4)),t.getProduct(),t.getReview()})),this.resetForm(),this.loading=!1):this.$q.notify({type:"warning",message:"Semua field harus di isi"})},resetForm:function(){this.form.name="",this.form.comment=""},getReview:function(){var t=this;this.loadMoreLoading=!0,this.loadProductReview({product_id:this.product.id}).then((function(e){200==e.status&&(t.loadMoreLoading=!1,t.productReviews=e.data.results)})).catch((function(e){t.loadMoreLoading=!1}))},loadReview:function(){var t=this;this.loadMoreLoading=!0,this.loadProductReview({product_id:this.product.id,skip:this.productReviews.length}).then((function(e){200==e.status&&(t.loadMoreLoading=!1,t.productReviews=[].concat(c()(t.productReviews),c()(e.data.results)))})).catch((function(e){t.loadMoreLoading=!1}))},getProduct:function(){var t=this;this.productDetail(this.$route.params.slug).then((function(e){if(200==e.status){var a=e.data.results;t.product=a,t.ready=!0,t.has_varian=a.varian_items.length>0,t.has_varian&&a.varian_attributes.length&&(t.product_attribute_selected=a.varian_attributes[0])}else t.$router.push({name:"ProductIndex"})})).catch((function(){t.$router.push({name:"ProductIndex"})}))},getRandomNumber:function(){var t=[1,2,3,4,5,6,7,8,9,10,11,12];this.number1=Math.floor(Math.random()*t.length),this.number2=Math.ceil(Math.random()*t.length)},formatPhoneNumber:function(t){var e=t.replace(/\D/g,"");return e.startsWith("0")&&(e="62"+e.substr(1)),e},closeChatModal:function(){this.chatText="",this.chatModal=!1},changeChatText:function(t){this.chatText=t},submitChat:function(){var t=this,e=this.shop.phone;if(e){var a="https://api.whatsapp.com/send?phone="+this.formatPhoneNumber(e)+"&text="+encodeURI(this.chatText+"\nProduk: "+this.product.title+"\n")+location.href;window.open(a,"_blank"),setTimeout((function(){t.closeChatModal()}),2e3)}else this.$q.dialog({title:"Maaf, Sedang masalah!",message:"Silahkan coba kembali beberapa saat lagi, jika masih berlanjut silahkan hubungi kami."})}}),mounted:function(){this.session_id||this.makeSessionId()},created:function(){this.product&&this.product.slug==this.$route.params.slug?this.ready=!0:this.getProduct(),this.getRandomNumber()},meta:function(){var t;return{title:null===(t=this.product)||void 0===t?void 0:t.title}}},k=q,y=(a("9975"),a("9989")),C=a("9c40"),S=a("880c"),M=a("62cd"),P=a("32a7"),I=a("f09f"),R=a("a370"),j=a("daf4"),T=a("429b"),$=a("7460"),z=a("eb85"),Q=a("adad"),V=a("823b"),N=a("7ff0"),D=a("74f7"),A=a("24e8"),L=a("27f9"),B=a("4b7e"),H=a("6b1d"),W=a("1c1c"),J=a("66e5"),E=a("4074"),F=a("068f"),K=a("0170"),O=Object(v["a"])(k,i,s,!1,null,null,null);e["default"]=O.exports;_()(O,"components",{QPage:y["a"],QBtn:C["a"],QCarousel:S["a"],QCarouselSlide:M["a"],QCarouselControl:P["a"],QCard:I["a"],QCardSection:R["a"],QRating:j["a"],QTabs:T["a"],QTab:$["a"],QSeparator:z["a"],QTabPanels:Q["a"],QTabPanel:V["a"],QFooter:N["a"],QInnerLoading:D["a"],QDialog:A["a"],QInput:L["a"],QCardActions:B["a"],QLinearProgress:H["a"],QList:W["a"],QItem:J["a"],QItemSection:E["a"],QImg:F["a"],QItemLabel:K["a"]})},"54c9":function(t,e,a){"use strict";a("047a")},9975:function(t,e,a){"use strict";a("ef41")},ef41:function(t,e,a){}}]);